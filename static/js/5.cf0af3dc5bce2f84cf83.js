webpackJsonp([5],{"1Cib":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("Gu7T"),s=e.n(i),r={data:function(){return{articles:null,page:{},diggList:[],loadMore:!1}},filters:{spliceDesc:function(t){return t.replace(/```javascript/g,"```").replace(/```/g,"").slice(0,220)}},watch:{$route:function(){this.getArticleList()},loadMore:function(t){t&&this.$data.currentPage<this.$data.page.pageCount&&(this.$data.currentPage++,this.getComments())},diggList:function(t){t&&this.$STORE.set("digg",this.$data.diggList)}},methods:{formatDate:function(t){return this.$utils.formatDate(t)},bgColor:function(){return this.$utils.randomColor()},getArticleList:function(){var t=this,a=t.$route,e=a.params,i={};"tags"===a.name?i={type:"tag",tags:e.tag}:"catetory"===a.name&&(i={type:"catetory",catetory:e.id}),t.$API.getArticleList({data:i,method:"POST",success:function(a){var e=a.data;1e4===e.code&&(t.$data.page=e.entity.page,t.$data.loadMore?t.$data.articles=[].concat(s()(t.$data.articles),s()(e.entity.data)):t.$data.articles=e.entity.data,t.$store.dispatch("setSiteTitle",(e.entity.info.name?e.entity.info.name:"博文")+" - Flost 的小窝"),t.$data.currentPage>=t.$data.page.pageCount?t.$data.loadAll=!0:(t.$data.loadAll=!1,t.$data.loadMore=!1))}})},digg:function(t){var a=this,e=t.currentTarget.dataset;if(-1!==a.$data.diggList.indexOf(e.id))return a.$message({message:"把下一个赞留给别人吧",type:"info"});a.$API.updateDigg({data:{id:e.id,type:"article"},method:"POST",success:function(t){var i=t.data;1e4===i.code?(a.$data.articles[parseInt(e.index)].digg_count++,a.$data.diggList.push(e.id)):a.$message({message:i.message,type:"error"})}})},isDigg:function(t){return-1!==this.$data.diggList.indexOf(t)?"active":""}},created:function(){this.$data.diggList=this.$STORE.get("digg")||[],this.getArticleList()}},n={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"article-content"},[i("div",{staticClass:"article-list"},[t.articles?t._l(t.articles,function(a,s){return i("div",{key:s,staticClass:"article-item  bgc-fff flex"},[a.thumb?i("div",{staticClass:"content-img"},[i("router-link",{attrs:{to:"/article/"+a.id}},[i("img",{attrs:{src:e("eHYc"),alt:"",title:a.name}})])],1):t._e(),t._v(" "),i("div",{staticClass:"content-text"},[i("div",{staticClass:"article-header"},[i("router-link",{staticClass:"catetory-name c-333",attrs:{to:"/catetory/"+a.catetory_id,title:"分类"}},[t._v("["+t._s(a.catetory.alias)+"]")]),t._v(" "),i("router-link",{staticClass:"article-title c-333",attrs:{to:"/article/"+a.id,title:a.title}},[t._v(t._s(a.title))])],1),t._v(" "),a.tag.length>0?i("div",{staticClass:"article-tags flex"},[i("span",{staticClass:"fui-font fui-tag c-666 mr10",attrs:{title:"标签"}}),t._v(" "),t._l(a.tag,function(a,e){return[e<5?i("router-link",{key:e,staticClass:"tag mr10",style:"background-color:"+t.bgColor(),attrs:{to:"/tags/"+a,title:a}},[t._v(t._s(a))]):t._e()]})],2):t._e(),t._v(" "),i("div",{staticClass:"article-desc"},[i("router-link",{staticClass:"c-666",attrs:{to:"/article/"+a.id,title:"简介"}},[t._v(t._s(t._f("spliceDesc")(a.content)))])],1),t._v(" "),i("div",{staticClass:"article-footer flex"},[i("div",{staticClass:"footer-left fx1"},[i("div",{staticClass:"mr10 create-time c-999",attrs:{title:"发表时间"}},[i("span",{staticClass:"fui-font fui-time"}),t._v(" "),i("span",[t._v(t._s(t.formatDate(a.create_at)))])])]),t._v(" "),i("div",{staticClass:"footer-rigt flex-right tar fx1"},[i("div",{staticClass:"mr10 visit-count c-999",attrs:{title:"点击数"}},[i("span",{staticClass:"fui-font fui-visit"}),t._v(" "),i("span",[t._v(t._s(a.visit_count||0))])]),t._v(" "),i("div",{staticClass:"mr10 digg-count c-999",class:t.isDigg(a.id),attrs:{title:"点赞数","data-id":a.id,"data-index":s},on:{click:t.digg}},[i("span",{staticClass:"fui-font fui-digg"}),t._v(" "),i("span",[t._v(t._s(a.digg_count||0))])]),t._v(" "),i("div",{staticClass:"mr10 comment-count c-999",attrs:{title:"评论数"}},[i("span",{staticClass:"fui-font fui-comment"}),t._v(" "),i("span",[t._v(t._s(a.reply_count||0))])])])])])])}):i("content-placeholders",[i("content-placeholders-heading",{attrs:{img:!0}}),t._v(" "),i("content-placeholders-text",{attrs:{lines:3}})],1)],2)])},staticRenderFns:[]};var c=e("VU/8")(r,n,!1,function(t){e("OWzK")},"data-v-2f2202bc",null);a.default=c.exports},"5zde":function(t,a,e){e("zQR9"),e("qyJz"),t.exports=e("FeBl").Array.from},Gu7T:function(t,a,e){"use strict";a.__esModule=!0;var i,s=e("c/Tr"),r=(i=s)&&i.__esModule?i:{default:i};a.default=function(t){if(Array.isArray(t)){for(var a=0,e=Array(t.length);a<t.length;a++)e[a]=t[a];return e}return(0,r.default)(t)}},OWzK:function(t,a){},"c/Tr":function(t,a,e){t.exports={default:e("5zde"),__esModule:!0}},eHYc:function(t,a,e){t.exports=e.p+"static/img/bg1.3ad49e6.jpg"},fBQ2:function(t,a,e){"use strict";var i=e("evD5"),s=e("X8DO");t.exports=function(t,a,e){a in t?i.f(t,a,s(0,e)):t[a]=e}},qyJz:function(t,a,e){"use strict";var i=e("+ZMJ"),s=e("kM2E"),r=e("sB3e"),n=e("msXi"),c=e("Mhyx"),o=e("QRG4"),l=e("fBQ2"),d=e("3fs2");s(s.S+s.F*!e("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var a,e,s,u,f=r(t),g="function"==typeof this?this:Array,v=arguments.length,_=v>1?arguments[1]:void 0,p=void 0!==_,m=0,h=d(f);if(p&&(_=i(_,v>2?arguments[2]:void 0,2)),void 0==h||g==Array&&c(h))for(e=new g(a=o(f.length));a>m;m++)l(e,m,p?_(f[m],m):f[m]);else for(u=h.call(f),e=new g;!(s=u.next()).done;m++)l(e,m,p?n(u,_,[s.value,m],!0):s.value);return e.length=m,e}})}});
//# sourceMappingURL=5.cf0af3dc5bce2f84cf83.js.map