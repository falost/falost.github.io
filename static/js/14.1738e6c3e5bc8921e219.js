webpackJsonp([14],{"8QNA":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={data:function(){return{dataList:[],pages:{},pageSize:1,limit:10}},methods:{formatDate:function(t){return this.$utils.formatDate(t)},handleSizeChange:function(t){this.$data.limit=t,this.getArticleList()},handleCurrentChange:function(t){this.$data.pageSize=t,this.getArticleList()},getArticleList:function(){var t=this;t.$API.adminArticleList({data:{catetory:t.$data.catetory||"all",limit:t.$data.limit||10,page:t.$data.pageSize||1},method:"POST",success:function(e){var a=e.data;1e4===a.code?(t.$data.dataList=a.entity.data,t.$data.pages=a.entity.pages):t.$message({message:a.message,type:"info"})}})},removeItem:function(t){var e=this,a=t.currentTarget.dataset;e.$messageBox.confirm("此操作将删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$data.deleteId=a.id,e.$data.deleteIndex=a.index,e.$data.deleteType=e.$data.dataType,e.confirmRemove()}).catch(function(){})},confirmRemove:function(){var t=this;t.$API.adminDeleteItem({data:{deleteId:t.$data.deleteId,deleteType:t.$data.deleteType},method:"DELETE",success:function(e){var a=e.data;1e4===a.code?(t.$data.dataList.splice(t.$data.deleteIndex,1),t.$message({message:a.message,type:"success"})):t.$message({message:a.message,type:"warning"})}})}},created:function(){var t=this;t.$data.dataType="article",t.getArticleList()}},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[t._m(0,!1,!1),t._v(" "),a("section",{staticClass:"content"},[t.dataList.length>0&&null!==t.dataList?a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12"},[a("div",{staticClass:"panel panel-default list"},[a("div",{staticClass:"panel-heading"},[t._v("文章列表")]),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-hover table-bordered table-striped"},[t._m(1,!1,!1),t._v(" "),a("tbody",t._l(t.dataList,function(e,s){return a("tr",{key:s,class:"item-id-"+e.id},[a("td",[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.title))]),t._v(" "),a("td",[t._v(t._s(e.catetory.alias))]),t._v(" "),a("td",[t._v(t._s(e.author.loginname))]),t._v(" "),a("td",[t._v(t._s(t.formatDate(e.create_at)))]),t._v(" "),a("td",[t._v(t._s(e.visit_count))]),t._v(" "),a("td",[t._v(t._s(e.reply_count))]),t._v(" "),a("td",[a("router-link",{staticClass:"el-button el-button--default el-button--mini",attrs:{target:"_blank",to:"/article/"+e.id}},[t._v("查看")]),t._v(" "),a("router-link",{staticClass:"el-button el-button--default el-button--mini",attrs:{tag:"button",to:"/admin/article/new/"+e.id}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger","data-id":e.id,"data-index":s},on:{click:t.removeItem}},[t._v("删除")])],1)])}))])])]),t._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":t.pages.currentPage||1,"page-sizes":[10,20,30,50,100,200],"page-size":t.limit,layout:"prev, pager, next, total, sizes",total:t.pages.countTotal,background:!0},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])]):a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12"},[a("h3",{staticClass:"text-center text-muted"},[t._v("暂时没有文章，请前往 “ 内容 - "),a("router-link",{attrs:{to:"/admin/article/new"}},[t._v("文章发布")]),t._v(" ” 中添加发布文章")],1)])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content-header"},[a("h1",[t._v("\n      内容\n      "),a("small",[t._v("文章管理")])]),t._v(" "),a("ol",{staticClass:"breadcrumb"},[a("li",[a("a",{attrs:{href:""}},[a("i",{staticClass:"fa fa-th"}),t._v(" 内容")])]),t._v(" "),a("li",{staticClass:"active"},[t._v("文章管理")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("序号")]),t._v(" "),a("th",[t._v("标题")]),t._v(" "),a("th",[t._v("分类")]),t._v(" "),a("th",[t._v("作者")]),t._v(" "),a("th",[t._v("发布时间")]),t._v(" "),a("th",[t._v("阅读量")]),t._v(" "),a("th",[t._v("评论数")]),t._v(" "),a("th",[t._v("操作")])])])}],l={render:i,staticRenderFns:n},d=l,r=a("/Xao"),c=r(s,d,!1,null,null,null);e.default=c.exports}});
//# sourceMappingURL=14.1738e6c3e5bc8921e219.js.map