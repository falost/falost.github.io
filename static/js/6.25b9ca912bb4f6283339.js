webpackJsonp([6],{MNQr:function(a,t,e){"use strict";function n(a){e("mReh")}Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{userName:"",userPass:"",errorCount:0,loginError:!1}},watch:{user:function(a){},loginError:function(a){var t=this;a&&setTimeout(function(){t.$data.loginError=!t.$data.loginError},1e3)}},computed:{isSubmit:function(){var a=this;return!(""!==a.$data.userName&&a.$data.userName.length>=3&&""!==a.$data.userPass&&a.$data.userPass.length>=6)}},methods:{checks:function(a){var t=this,e=a.currentTarget.dataset,n=t.$data[e.id],s="";"userName"===e.id?""==n?s="用户名不能为空":n.length<3&&(s="用户名的长度不能小于 3"):"userPass"===e.id&&(""==n?s="密码不能为空":n.length<6&&(s="密码的长度不能小于 6")),""!==s&&t.$message({showClose:!0,message:s,type:"warning"})},goLogin:function(){var a=this,t="";if(""==a.$data.userName?t="用户名不能为空":a.$data.userName.length<3?t="用户名的长度不能小于 3":""==a.$data.userPass?t="密码不能为空":a.$data.userPass.length<6&&(t="密码的长度不能小于 6"),""!==t)return a.$message({showClose:!0,message:t,type:"warning"});a.$API.userLogin({data:{name:a.$data.userName,pass:a.$data.userPass},method:"POST",success:function(t){var e=t.data;1e4===e.code?(a.$message({showClose:!0,message:e.message,type:"success"}),a.$data.user=e.entity.user,a.$STORE.set("user",e.entity.user),a.$store.dispatch("setLogin",!0),a.checkAuth()):(a.$data.loginError=!0,a.$message({showClose:!0,message:e.message,type:"error"}))}})},checkAuth:function(){var a=this;a.$data.user&&a.$data.user.uuid&&a.$API.isAdmin({data:{},method:"POST",success:function(t){var e=t.data,n=a.$route.query;1e4===e.code?(a.$store.dispatch("setAdmin",!0),n.from&&"/admin/login"!==n.from?a.$router.push(n.from):a.$router.push("/admin/index")):(a.$message({showClose:!0,message:e.message,type:"info"}),a.$store.dispatch("setAdmin",!1),a.$router.push("/"))}})}},created:function(){var a=this;a.$data.user=a.$STORE.get("user"),a.checkAuth()},mounted:function(){}},r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"wrapper"},[e("div",{staticClass:"row"},[e("div",{staticClass:"center-block "},[e("form",{staticClass:"form-signin",class:a.loginError?"animated shake":"",attrs:{method:"post",id:"login"}},[e("div",{staticClass:"panel panel-default"},[e("div",{staticClass:"panel-heading"},[a._v("欢迎回来")]),a._v(" "),e("div",{staticClass:"panel-body"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"input-group"},[a._m(0,!1,!1),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.userName,expression:"userName"}],staticClass:"form-control",staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请输入用户名/邮箱",name:"user","data-id":"userName"},domProps:{value:a.userName},on:{blur:a.checks,input:function(t){t.target.composing||(a.userName=t.target.value)}}})])]),a._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"input-group"},[a._m(1,!1,!1),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.userPass,expression:"userPass"}],staticClass:"form-control",staticStyle:{width:"100%"},attrs:{type:"password",placeholder:"请输入密码",name:"pwd","data-id":"userPass"},domProps:{value:a.userPass},on:{blur:a.checks,keyup:function(t){if(!("button"in t)&&a._k(t.keyCode,"enter",13,t.key))return null;a.goLogin(t)},input:function(t){t.target.composing||(a.userPass=t.target.value)}}})])]),a._v(" "),e("el-button",{staticClass:"btn btn-primary btn-block",attrs:{type:"primary",disabled:a.isSubmit},on:{click:a.goLogin}},[a._v("登录")])],1)])])]),a._v(" "),a._m(2,!1,!1)])])},o=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("span",{staticClass:"input-group-addon"},[e("i",{staticClass:"glyphicon glyphicon-user"})])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("span",{staticClass:"input-group-addon fs_17"},[e("i",{staticClass:"glyphicon glyphicon-lock"})])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("p",{staticClass:"text-center"},[e("strong",[a._v("Copyright © 2015-2016\n          "),e("a",{attrs:{href:"http://www.fedte.cc",target:"_blank"}},[a._v("FEDTE 工作室\n          ")]),a._v(".")]),a._v("\n        保留所有权利.")])}],i={render:r,staticRenderFns:o},d=i,u=e("/Xao"),c=n,l=u(s,d,!1,c,"data-v-156da818",null);t.default=l.exports},hGvd:function(a,t,e){t=a.exports=e("BkJT")(!0),t.push([a.i,"\n.box[data-v-156da818] {\n  background-color: #ecf0f5;\n  margin: 0;\n}\n.row[data-v-156da818] {\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  width: 360px;\n  margin-left: -180px;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n}\n.error input[data-v-156da818],\n.error > span[data-v-156da818],\n.error input[data-v-156da818]:focus {\n  border-color: #a94442 !important;\n}\n.error > span[data-v-156da818] {\n  color: #a94442;\n  background-color: #f2dede;\n}\n.correct[data-v-156da818] {\n  color: #006600;\n  background-color: transparent;\n}\n.btn[disabled][data-v-156da818] {\n  pointer-events: auto;\n  cursor: not-allowed;\n}\n@media screen and (max-width: 360px) {\n.row[data-v-156da818] {\n    width: 95%;\n    margin-left: -47.5%;\n}\n}\n","",{version:3,sources:["H:/node/alblog/v3/alblog-web/src/page/admin/admin_login.vue"],names:[],mappings:";AACA;EACE,0BAA0B;EAC1B,UAAU;CACX;AACD;EACE,gBAAgB;EAChB,UAAU;EACV,SAAS;EACT,aAAa;EACb,oBAAoB;EACpB,oCAAoC;EACpC,4BAA4B;CAC7B;AACD;;;EAGE,iCAAiC;CAClC;AACD;EACE,eAAe;EACf,0BAA0B;CAC3B;AACD;EACE,eAAe;EACf,8BAA8B;CAC/B;AACD;EACE,qBAAqB;EACrB,oBAAoB;CACrB;AACD;AACA;IACI,WAAW;IACX,oBAAoB;CACvB;CACA",file:"admin_login.vue",sourcesContent:["\n.box[data-v-156da818] {\n  background-color: #ecf0f5;\n  margin: 0;\n}\n.row[data-v-156da818] {\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  width: 360px;\n  margin-left: -180px;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n}\n.error input[data-v-156da818],\n.error > span[data-v-156da818],\n.error input[data-v-156da818]:focus {\n  border-color: #a94442 !important;\n}\n.error > span[data-v-156da818] {\n  color: #a94442;\n  background-color: #f2dede;\n}\n.correct[data-v-156da818] {\n  color: #006600;\n  background-color: transparent;\n}\n.btn[disabled][data-v-156da818] {\n  pointer-events: auto;\n  cursor: not-allowed;\n}\n@media screen and (max-width: 360px) {\n.row[data-v-156da818] {\n    width: 95%;\n    margin-left: -47.5%;\n}\n}\n"],sourceRoot:""}])},mReh:function(a,t,e){var n=e("hGvd");"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);e("8bSs")("5d2dcd92",n,!0)}});
//# sourceMappingURL=6.25b9ca912bb4f6283339.js.map